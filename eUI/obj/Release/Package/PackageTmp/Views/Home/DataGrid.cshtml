@{
    Layout = null;
}

@Styles.Render(Files.CssFiles.easyUI)
@Styles.Render(Files.CssFiles.easyUIicon)
@Scripts.Render(Files.JsFiles.jQuery)
@Scripts.Render(Files.JsFiles.easyUI)

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>DataGrid</title>

    <script type="text/javascript">
        $(function () {
            $('#dg').datagrid({
                width: 600,
                height: 300,
                fitColumns: false,
                url: '/Data/DataGrid',
                striped: true,
                pagination: true,
                rownumbers: true,
                pageSize: 5,
                pageList: [5, 10, 20, 30, 40, 50],
                sortName: 'code,name',
                multiSort: true,
                singleSelect: true,
                columns: [[
                        {
                            field: 'code', title: 'Item ID', rowspan: 2, width: 80, sortable: true, formatter: function (value, row, index) {
                                if (row.code) {
                                    return row.code;
                                } else {
                                    return 2;
                                }
                            }
                        },
                        { field: 'name', title: 'Product ID', rowspan: 2, width: 80, sortable: true },
                        { title: 'Item Details', colspan: 2 }
                ], [
                        { field: 'price', title: 'List Price', width: 80, align: 'right' },
                        { field: 'price', title: 'List Price', width: 80, align: 'right' }
                ]],
                toolbar: [{
                    iconCls: 'icon-edit',
                    handler: function () { alert('编辑按钮') }
                }, '-', {
                    iconCls: 'icon-help',
                    handler: function () { alert('帮助按钮') }
                }],
                rowStyler: function (index, row) {
                    if (row.price > 10) {
                        return 'color:red;';
                    }
                },
                onLoadSuccess: function (data) {
                    var merges = [{
                        index: 0,
                        rowspan: 2
                    }, {
                        index: 2,
                        rowspan: 2
                    }];
                    for (var i = 0; i < merges.length; i++)
                        $('#dg').datagrid('mergeCells', {
                            index: merges[i].index,
                            field: 'code',
                            rowspan: merges[i].rowspan
                        });
                },
                onClickCell: function (index, field, value) {
                    //alert("index:" + index + " |field:" + field + " |value:" + value);
                }
            });

            $('#dl').datalist({
                url: '/Data/combobox1',
                width: 200,
                height: 300,
                textField: 'Text',
                valueField: 'Id',
                groupField: 'Group',
                checkbox: true,
                lines: true,
                onClickCell: function (index, field, value) {
                    //alert("index:" + index + " |field:" + field + " |value:" + value);
                }
            });

            $('#pg').propertygrid({
                url: '/Data/combobox1',
                textField: 'Text',
                valueField: 'Id',
                groupField: 'Group',
                showGroup: true,
                scrollbarSize: 0
            });
        });
    </script>
</head>
<body>
    <table id="pg" style="width:300px"></table> 

    <br /><br />
    <div id="dl"></div>

    <br />
    <br />
    <table id="dg"></table>
</body>
</html>
