@{
    Layout = null;
}
@Styles.Render(Files.CssFiles.easyUI)
@Styles.Render(Files.CssFiles.easyUIicon)
@Scripts.Render(Files.JsFiles.jQuery)
@Scripts.Render(Files.JsFiles.easyUI)

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>EasyUIForm</title>

    <script type="text/javascript">
        $(function () {
            var paras = [];
            paras.Test = "mike";
            //$.messager.progress();	// 显示进度条

            $('#ff').form({
                url: '/Home/FormSubmit',
                queryParams: paras,
                onSubmit: function () {
                    var isValid = $(this).form('validate');
                    //if (!isValid) {
                    //    $.messager.progress('close');	// 如果表单是无效的则隐藏进度条
                    //}
                    return isValid;	// 返回false终止表单提交

                },
                success: function (item) {
                    alert(item)
                },
                onLoadSuccess: function (data) {
                    //alert(1);
                }
            });

            //$('#ff').form('load', {
            //    Name: 'name2',
            //    Email: 'mymail@gmail.com',
            //    subject: 'subject2',
            //    message: 'message2',
            //    language: 5
            //});

            $("#btnGetData").click(function () {
                $('#ff').form('load', '/Data/Form1');
            });

            $("#btnClear").click(function () {
                $("#ff").form('clear');
            });

            $("#btnReset").click(function () {
                $("#ff").form('reset');
            });

            $.extend($.fn.validatebox.defaults.rules, {
                equals: {
                    validator: function (value, param) {
                        return value == $(param[0]).val();
                    },
                    message: 'Field do not match.'
                }
            });

            $('#tbSearch').textbox({
                buttonText: 'Search',
                iconCls: 'icon-man',
                iconAlign: 'left',
                onClickButton: function () {
                    alert(12);
                },
                onClickIcon: function () {
                    alert('点击图标');
                },
                icons: [{
                    iconCls: 'icon-add',
                    handler: function (e) {
                        $(e.data.target).textbox('setValue', 'Something added!');
                    }
                }, {
                    iconCls: 'icon-remove',
                    handler: function (e) {
                        $(e.data.target).textbox('clear');
                    }
                }]

            });

            $('#pbPassWordForJs').passwordbox({
                prompt: 'Password',
                showEye: true,
                passwordChar: 'test'
            });

            $('#cc').combo({
                required: true,
                multiple: false,
                value: 'C#',
                panelMaxHeight: 100
            });

            $("#cc").combo("setText", 'abc');

            $('#cccomboboxByJs').combobox({
                url: '/Data/combobox1',
                mode: 'local',
                limitToList: true,
                showItemIcon: false,
                valueField: 'Id',
                textField: 'Text',
                groupField: 'Group',
                groupPosition: 'sticky',
                groupFormatter: function (group) {
                    return '<span style="color:red">' + group + '</span>';
                },
                formatter: function (row) {
                    var opts = $(this).combobox('options');
                    return '<span style="color:green">' + row[opts.textField] + '</span>';
                }

            });

            $('#cccombotree').combotree({
                url: '/Data/combotree',
                editable: true,
                checkbox: true

            });

            $('#cccombogrid').combogrid({
                panelWidth: 450,
                value: '请选择',
                idField: 'code',
                mode: 'remote',
                textField: 'name',
                url: '/Data/combogrid',
                loadMsg: '正在加载',
                columns: [[
                    { field: 'code', title: 'Code', width: 60 },
                    { field: 'name', title: 'Name', width: 100 },
                    { field: 'addr', title: 'Address', width: 120 },
                    { field: 'col4', title: 'Col41', width: 100 }
                ]]
            });

            $('#nn').numberbox({
                min: 10,
                precision: 2,
                groupSeparator: ',',
                disabled: false
            });

            var buttons = $.extend([], $.fn.datebox.defaults.buttons);
            buttons.splice(1, 0, {
                text: 'MyBtn',
                handler: function (target) {
                    alert('click MyBtn');
                }
            });

            $('#dd').datebox({
                required: false,
                buttons: buttons,
                formatter: function (date) {
                    var y = date.getFullYear();
                    var m = date.getMonth() + 1;
                    var d = date.getDate();
                    return m + '/' + d + '/' + y;
                },
                parser: function (s) {
                    var t = Date.parse(s);
                    if (!isNaN(t)) {
                        return new Date(t);
                    } else {
                        return new Date();
                    }

                },
                onSelect: function (date) {
                    alert(date.getFullYear() + ":" + (date.getMonth() + 1) + ":" + date.getDate());
                }

            });

            $("#btnGetDate").click(function () {
                alert($('#dd').datebox('getValue'));
            });

            $('#dt').datetimebox({
                value: '3/4/2010 2:3',
                required: true,
                showSeconds: true
            });

            $("#btnGetDateTime").click(function () {
                alert($('#dt').datebox('getValue'));
            });

            $('#cccalendar').calendar({
                current: new Date(),
                width: 400,
                height: 300,
                fit: false,
                showWeek: true,
                weeks: ['日', '一', '二', '三', '四', '五', '六'],
                months: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
                onSelect: function (date) {
                    alert(date.getFullYear() + ":" + (date.getMonth() + 1) + ":" + date.getDate());
                }
            });

            //无效
            $('#ssspinner').spinner({
                required: true,
                increment: 10
            });

            $('#ssnumberspinner').numberspinner({
                min: 10,
                max: 100,
                value: 10,
                increment: 10,
                editable: false
            });

            $('#fb').filebox({
                buttonText: '选择文件',
                buttonAlign: 'right',
                accept: '.txt'
            });

            $('#win').window({
                width: 600,
                height: 400,
                modal: true,
                constrain: true
            });

            $('#ddwin').dialog({
                title: 'My Dialog',
                width: 400,
                height: 200,
                closed: false,
                cache: false,
                href: '/Home/MenuAndButton',
                modal: true,
                toolbar: [{
                    text: '编辑',
                    iconCls: 'icon-edit',
                    handler: function () { alert('edit') }
                }, {
                    text: '帮助',
                    iconCls: 'icon-help',
                    handler: function () { alert('help') }
                }],
                buttons: [{
                    text: '保存',
                    handler: function () {

                    }
                }, {
                    text: '关闭',
                    handler: function () {
                        $('#ddwin').window('close');
                    }
                }]
            });

            $('#ddwin').dialog('refresh', '/Home/Index');
        });
    </script>
</head>
<body>
    <br />
    <br />
    @*窗口*@
    <div id="win"></div>
    <div id="ddwin">Dialog Content.</div>

    @*<div id="win2" class="easyui-window" title="My Window" style="width: 600px; height: 400px"
        data-options="iconCls:'icon-save',modal:true">
        <div class="easyui-layout" data-options="fit:true">
            <div data-options="region:'north',split:true" style="height: 100px"></div>
            <div data-options="region:'center'">
                The Content.    
            </div>
        </div>
    </div>*@




    @*文件框*@
    <input id="fb" type="text" style="width: 300px">

    <br />
    <br />
    @*数字微调*@
    <input id="ssnumberspinner" required="required" style="width: 80px;">

    @*微控件*@
    <input id="ssspinner" value="2">

    <br />
    <br />
    @*日历*@
    <div id="cccalendar" style="width: 180px; height: 180px;"></div>

    <br />
    <br />
    @*时间日期微调框*@
    <input class="easyui-datetimespinner" style="width: 300px" data-options="showSeconds:true">

    <br />
    <br />
    @*日期时间输入框*@
    <input id="dt" type="text" name="birthday"></input>
    <input id="btnGetDateTime" type="button" value="获取日期" />

    <br />
    <br />
    @*日期输入框*@
    <input id="dd" type="text"></input>
    <input id="btnGetDate" type="button" value="获取日期" />

    <br />
    <br />
    @*数据输入框*@
    <input type="text" class="easyui-numberbox" value="100" data-options="min:10,precision:2"></input>
    <input type="text" id="nn"></input>

    <br />
    <br />
    @*数据表格下拉框*@
    <input id="cccombogrid" name="dept" value="01" />
    <br />
    <br />

    @*树形下拉框*@
    <input id="cccombotree">
    <br />

    <select id="cccombobox" class="easyui-combobox" name="dept" style="width: 200px;">
        <option value="aa">aitem1</option>
        <option>bitem2</option>
        <option>bitem3</option>
        <option>ditem4</option>
        <option>eitem5</option>
    </select>

    <input id="cccomboboxByJs" name="dept">

    <input id="vv" class="easyui-validatebox" data-options="required:true,validType:'email',validateOnCreate:false" />


    @*表单*@
    <form id="ff" method="post">
        <div>
            <label for="name">Name:</label>
            <input class="easyui-validatebox" type="text" name="Name" value="123" data-options="required:true" />
        </div>
        <div>
            <label for="email">Email:</label>
            <input class="easyui-validatebox" type="text" name="Email" data-options="validType:'email'" />
        </div>
        <div>
            <label for="email">Pwd:</label>
            <input id="pwd" name="pwd" type="password" class="easyui-validatebox" data-options="required:true" />

        </div>
        <div>
            <label for="email">PwdAgain:</label>
            <input id="rpwd" name="rpwd" type="password" class="easyui-validatebox"
                data-options="required:true" validtype="equals['#pwd']" />
        </div>
        <div>
            <input class="easyui-textbox" data-options="iconCls:'icon-search'" style="width: 300px">
            <input id="tbSearch" type="text" style="width: 300px">
        </div>
        <div>
            <label>PassWord:</label>
            <input class="easyui-passwordbox" prompt="请输入密码" iconwidth="28" style="width: 200px; height: 34px; padding: 10px">
        </div>
        <div>
            <label>PassWordForJs</label>
            <input id="pbPassWordForJs" type="text" style="width: 300px">
        </div>
        <div>
            <label>Combo:</label>
            <input id="cc">
        </div>
        <br />
        <input id="btnGetData" type="button" value="获取数据" />
        <input id="btnClear" type="button" value="清除数据" />
        <input id="btnReset" type="button" value="重置数据" />
        <input id="btnSubmit" type="submit" />
    </form>
</body>
</html>
